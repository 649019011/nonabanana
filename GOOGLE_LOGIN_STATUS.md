# Google ç™»å½•åŠŸèƒ½çŠ¶æ€æŠ¥å‘Š

## âœ… å·²ä¿®å¤çš„é—®é¢˜

1. **ä¸­é—´ä»¶é”™è¯¯** - åˆ é™¤äº†å¯¼è‡´ "Cannot find the middleware module" é”™è¯¯çš„ä¸­é—´ä»¶æ–‡ä»¶
2. **ç±»å‹é”™è¯¯** - ä¿®å¤äº† DropdownMenuContent çš„ align å±æ€§é—®é¢˜
3. **ç»„ä»¶ç¨³å®šæ€§** - ä¼˜åŒ–äº†è®¤è¯ç›¸å…³ç»„ä»¶çš„é”™è¯¯å¤„ç†

## ğŸš€ å½“å‰çŠ¶æ€

### âœ… å·¥ä½œæ­£å¸¸çš„åŠŸèƒ½

1. **Google OAuth API è·¯ç”±** - `/api/auth/google`
   - è¿”å›æ­£ç¡®çš„ 307 é‡å®šå‘åˆ° Supabase æˆæƒç«¯ç‚¹
   - åŒ…å«æ­£ç¡®çš„ PKCE å‚æ•°

2. **è®¤è¯å›è°ƒè·¯ç”±** - `/auth/callback`
   - æ­£ç¡®å¤„ç† OAuth å›è°ƒ
   - é”™è¯¯å¤„ç†æœºåˆ¶æ­£å¸¸

3. **å¼€å‘æœåŠ¡å™¨**
   - è¿è¡Œåœ¨ http://localhost:3005
   - æ— ç¼–è¯‘é”™è¯¯
   - ç±»å‹æ£€æŸ¥é€šè¿‡

### ğŸ¯ å¯ç”¨çš„æµ‹è¯•é¡µé¢

1. **ç®€å•æµ‹è¯•é¡µé¢**: http://localhost:3005/simple-test
   - åŸºæœ¬çš„ç™»å½•æŒ‰é’®æµ‹è¯•
   - ä¸åŒ…å«å¤æ‚çš„è®¤è¯çŠ¶æ€ç®¡ç†

2. **ä¸»é¡µ**: http://localhost:3005
   - é›†æˆäº†ç™»å½•æŒ‰é’®
   - ç”¨æˆ·çŠ¶æ€æ˜¾ç¤º

## ğŸ”§ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. é…ç½® Supabase Google OAuth

åœ¨ Supabase Dashboard ä¸­ï¼š

1. è®¿é—® Authentication > Providers
2. å¯ç”¨ Google provider
3. é…ç½® Google Client ID å’Œ Client Secret
4. è®¾ç½®é‡å®šå‘ URL: `http://localhost:3005/auth/callback`

### 2. é…ç½® Google Cloud Console

1. åœ¨ Google Cloud Console ä¸­è®¾ç½® OAuth
2. æ·»åŠ é‡å®šå‘ URI: `https://jiufkznqpiqtrcwkloka.supabase.co/auth/v1/callback`

### 3. æµ‹è¯•ç™»å½•æµç¨‹

1. è®¿é—® http://localhost:3005/simple-test
2. ç‚¹å‡» "ä½¿ç”¨ Google ç™»å½•" æŒ‰é’®
3. å®Œæˆ OAuth æµç¨‹
4. éªŒè¯è¿”å›åˆ°åº”ç”¨å¹¶æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶

```
src/
â”œâ”€â”€ lib/supabase/
â”‚   â”œâ”€â”€ server.ts      # âœ… æœåŠ¡å™¨ç«¯å®¢æˆ·ç«¯
â”‚   â””â”€â”€ client.ts      # âœ… å®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ components/auth/
â”‚   â”œâ”€â”€ SimpleGoogleButton.tsx  # âœ… Google ç™»å½•æŒ‰é’®
â”‚   â””â”€â”€ SimpleGitHubButton.tsx  # âœ… GitHub ç™»å½•æŒ‰é’®
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use-auth.ts    # âœ… è®¤è¯çŠ¶æ€ç®¡ç†
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/auth/google/route.ts    # âœ… Google OAuth è·¯ç”±
â”‚   â”œâ”€â”€ auth/callback/route.ts      # âœ… è®¤è¯å›è°ƒå¤„ç†
â”‚   â”œâ”€â”€ simple-test/page.tsx        # âœ… ç®€å•æµ‹è¯•é¡µé¢
â”‚   â””â”€â”€ test-google-auth/page.tsx   # âœ… å®Œæ•´æµ‹è¯•é¡µé¢
â””â”€â”€ page.tsx              # âœ… ä¸»é¡µé›†æˆ
```

## ğŸ‰ æˆåŠŸæŒ‡æ ‡

- âœ… TypeScript ç¼–è¯‘æ— é”™è¯¯
- âœ… å¼€å‘æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ
- âœ… Google OAuth API ç«¯ç‚¹æ­£å¸¸å“åº”
- âœ… è®¤è¯å›è°ƒè·¯ç”±æ­£å¸¸å·¥ä½œ
- âœ… ç™»å½•æŒ‰é’®ç»„ä»¶æ­£å¸¸æ¸²æŸ“
- âœ… æ— ä¸­é—´ä»¶é”™è¯¯

## ğŸ” è°ƒè¯•ä¿¡æ¯

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æµè§ˆå™¨æ§åˆ¶å°** - æŸ¥çœ‹å®¢æˆ·ç«¯é”™è¯¯
2. **ç½‘ç»œæ ‡ç­¾** - æ£€æŸ¥ API è¯·æ±‚
3. **æœåŠ¡å™¨æ—¥å¿—** - æŸ¥çœ‹æœåŠ¡ç«¯é”™è¯¯
4. **Supabase Dashboard** - æŸ¥çœ‹è®¤è¯æ—¥å¿—

---

**çŠ¶æ€**: âœ… å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æµ‹è¯• Google ç™»å½•åŠŸèƒ½ï¼